<!DOCTYPE html>
<html>
<head>
	<title>arcTo</title>
	<script type="text/javascript">
		function init() {
			let ctx = document.getElementById('canvas').getContext('2d')
			

			// ctx.save()
			// ctx.translate(100,100)
			var num = 0
			function Test(){
				ctx.clearRect(0,0,500,500)
				num++
				for (var i = 0; i < 6; i++) {
					ctx.save()
					ctx.translate(i*10,100)
					ctx.rotate(Math.PI/180*15 + num)
					drawArcTo(ctx)
					ctx.restore()
				}
				

				for (var i = 0; i < 12; i++) {
					

					ctx.save()
					ctx.globalAlpha = 0.5
					ctx.translate(200,200)
					ctx.rotate(Math.PI/180*i*30 + num)
					draw(ctx)
					ctx.restore()
				}
				window.requestAnimationFrame(Test)
			}
			window.requestAnimationFrame(Test)
		}
		
		function drawArcTo(ctx) {
			ctx.save()
			
			ctx.beginPath();
			ctx.arc(0,0, 50, 0, Math.PI*2, true)
			ctx.stroke()
			ctx.beginPath()
			ctx.moveTo(-50,0)
			ctx.arcTo(-50,-50, 0,-50, 50)
			ctx.strokeStyle = '#ff0000'
			ctx.stroke()

			ctx.beginPath()
			ctx.moveTo(0,-50)
			ctx.arcTo(50,-50, 50,0, 50)
			ctx.strokeStyle = '#00ff00'
			ctx.stroke()

			ctx.beginPath()
			ctx.moveTo(50,0)
			ctx.arcTo(50,50, 0,50, 50)
			ctx.strokeStyle = '#0000ff'
			ctx.stroke()

			ctx.beginPath()
			ctx.moveTo(0,50)
			ctx.arcTo(-50,50, -50,0, 50)
			ctx.strokeStyle = '#ffff00'
			ctx.stroke()
			ctx.restore()
		}
		function draw(ctx){
				ctx.save()
				// ctx.translate(100,100)
				ctx.beginPath()
				ctx.moveTo(0,10)
				ctx.lineTo(0,150)
				ctx.arcTo(0,175, 10,175, 10)
				ctx.arcTo(20,175, 20,165, 10)
				ctx.lineTo(20,20)
				ctx.arcTo(20,0, 10,0, 10)
				ctx.arcTo(0,0, 0,20, 10)
				ctx.strokeStyle = '#ff0000'
				ctx.stroke()
				ctx.closePath()
				ctx.fillStyle = 'rgba(88,99,125,0.3)'
				ctx.fill()
				ctx.restore()
			}

	</script>
</head>
<body onload="init()">
<canvas id="canvas" height="500" width="500"></canvas>
</body>
</html>